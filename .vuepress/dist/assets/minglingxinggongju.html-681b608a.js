import{_ as e,r as p,o,c,b as n,d as s,e as t,a as i}from"./app-ec29cce2.js";const l="/js/node-cli.gif",u={},r={href:"https://github.com/ZUOZHE1997/translation-cmd",target:"_blank",rel:"noopener noreferrer"},d={href:"https://segmentfault.com/a/1190000016555129",target:"_blank",rel:"noopener noreferrer"},k=i(`<p>æ¶‰åŠåˆ°çš„ NPM åŒ…</p><ul><li>chalk (è®©å‘½ä»¤è¡Œçš„å­—ç¬¦å¸¦ä¸Šé¢œè‰²)</li><li>cheerio (è§£æ DOM)</li><li>is-chinese (åˆ¤æ–­æ˜¯ä¸æ˜¯ä¸­æ–‡)</li><li>no-case ( è½¬æ¢ä¸ºå•è¯ä¹‹é—´æœ‰ç©ºæ ¼çš„å°å†™å­—ç¬¦ä¸²)</li><li>ora (å‘½ä»¤è¡ŒåŠ è½½ä¸­å›¾æ ‡)</li><li>request (Node å‘é€ request è¯·æ±‚)</li><li>urlencode (å°†å­—ç¬¦ä¸²ä»¥ URL ç¼–ç )</li></ul><h2 id="_1-å‰è¡Œæè¦" tabindex="-1"><a class="header-anchor" href="#_1-å‰è¡Œæè¦" aria-hidden="true">#</a> 1. å‰è¡Œæè¦</h2><p>main å­—æ®µæŒ‡å®š package.json ä¸­çš„å‡ºå…¥å£æ–‡ä»¶,å¦‚æœå®‰è£…å‘½ä»¤è¡Œå·¥å…·,åˆ™æ˜¯ç”± bin å­—æ®µæŒ‡å®š.</p><p>é…ç½®å‘½ä»¤:</p><ol><li>è¿™æ—¶å‘½ä»¤åç§°ä¸º tran,å’ŒåŒ…åç›¸åŒ</li></ol><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tran&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>æˆ–å•ç‹¬æŒ‡å®šå‘½ä»¤åç§°</li></ol><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tran&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;yd&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶ååœ¨ index.js æ–‡ä»¶ä¸­å¼€å¤´å†™å…¥</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/usr/bin/env node

// è®©ç³»ç»ŸåŠ¨æ€çš„å»æŸ¥æ‰¾nodeæ¥æ‰§è¡Œä½ çš„è„šæœ¬æ–‡ä»¶ã€‚

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åå°†ä¸Šé¢å‡ ä¸ªåŒ…å®‰è£…å¥½,å°±å¯ä»¥å¼€å§‹å†™äº†!</p><h2 id="_2-å†™ä»£ç " tabindex="-1"><a class="header-anchor" href="#_2-å†™ä»£ç " aria-hidden="true">#</a> 2. å†™ä»£ç </h2><h4 id="è·å–å‘½ä»¤è¡Œè¾“å…¥çš„å†…å®¹-ğŸ˜" tabindex="-1"><a class="header-anchor" href="#è·å–å‘½ä»¤è¡Œè¾“å…¥çš„å†…å®¹-ğŸ˜" aria-hidden="true">#</a> è·å–å‘½ä»¤è¡Œè¾“å…¥çš„å†…å®¹ ğŸ˜</h4><p>å¯ä»¥ç”¨ process.argv è·å–</p><p>process.argv å±æ€§ä¼šè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­åŒ…å«å½“ Node.js è¿›ç¨‹è¢«å¯åŠ¨æ—¶ä¼ å…¥çš„å‘½ä»¤è¡Œå‚æ•°ã€‚ ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ process.execPathã€‚ ç¬¬äºŒä¸ªå…ƒç´ æ˜¯æ­£è¢«æ‰§è¡Œçš„ javascript æ–‡ä»¶çš„è·¯å¾„ã€‚ å…¶ä½™çš„å…ƒç´ æ˜¯ä»»ä½•é¢å¤–çš„å‘½ä»¤è¡Œå‚æ•°ã€‚</p><p>æ–‡ä»¶å¼€å¤´,å¼•å…¥ç›¸å…³åŒ…</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> chalk <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;chalk&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ora <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;ora&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;request&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> isChinese <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;is-chinese&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> urlencode <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;urlencode&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> noCase <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;no-case&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> cheerio <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;cheerio&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> spinner <span class="token operator">=</span> <span class="token function">ora</span><span class="token punctuation">(</span><span class="token string">&#39;Loading...&#39;</span><span class="token punctuation">)</span> <span class="token comment">// å®šä¹‰ä¸€ä¸ªæ–‡æ¡ˆ,ç›¸å½“äºåŠ è½½ä¸­</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> word <span class="token operator">=</span> process<span class="token punctuation">.</span>argv<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span> <span class="token comment">// è·å–å‘½ä»¤è¡Œè¾“å…¥çš„å‚æ•°</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨è·å–å®Œå‚æ•°å,å…ˆè¿›è¡Œä¸€ä¸ªåˆ¤æ–­,å¦‚æœå‚æ•°ä¸ºç©ºå°±ä¸å†ç»§ç»­æ‰§è¡Œ,æ­¤æ—¶æŠŠè¿›ç¨‹åœæ‰</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>word<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  spinner<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">red</span><span class="token punctuation">(</span><span class="token string">&#39;Please enter text&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// è¿™ä¸€æ­¥æ˜¯æ˜¾ç¤ºæŠ¥é”™,ç›¸å½“äºåŠ è½½å¤±è´¥</span>
  process<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// åœæ‰è¿›ç¨‹</span>
<span class="token punctuation">}</span>

word <span class="token operator">=</span> noCase<span class="token punctuation">.</span><span class="token function">noCase</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span> <span class="token comment">// æŠŠå•è¯è½¬æ¢ä¸ºä¸­é—´å¸¦ç©ºæ ¼çš„</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="é…ç½®è¯·æ±‚" tabindex="-1"><a class="header-anchor" href="#é…ç½®è¯·æ±‚" aria-hidden="true">#</a> é…ç½®è¯·æ±‚</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> isCh <span class="token operator">=</span> <span class="token function">isChinese</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åˆ¤æ–­æ˜¯ä¸æ˜¯ä¸­æ–‡,æ˜¯ä¸­æ–‡è¿”å› true</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">url</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> isCh <span class="token operator">?</span> <span class="token string">&#39;https://dict.youdao.com/w/eng/&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;https://dict.youdao.com/w/&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬ä¸€ä¸ªåœ°å€æ˜¯æ±‰è¯‘è‹±,ç¬¬äºŒä¸ªåœ°å€æ˜¯è‹±è¯‘æ±‰,å¯¹ä¸­æ–‡æˆ–è‹±æ–‡è¿›è¡Œåˆ¤æ–­åˆ‡æ¢åœ°å€</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">urlencode</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®è¯·æ±‚åœ°å€,å°† word é“¾æ¥åˆ° url ä¸­</p><h4 id="è§£æ-html" tabindex="-1"><a class="header-anchor" href="#è§£æ-html" aria-hidden="true">#</a> è§£æ html</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">request</span><span class="token punctuation">(</span>option<span class="token punctuation">.</span>url<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> response<span class="token punctuation">,</span> body</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token operator">...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨ request å‘é€è¯·æ±‚,æ¥ä¸‹æ¥å°±è¦ç”¨åˆ° cheerio åŒ…äº†,å®ƒå¯ä»¥åœ¨æœåŠ¡ç«¯ç”¨æ¥è§£æ html</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> $ <span class="token operator">=</span> cheerio<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span> <span class="token comment">// åŠ è½½html</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;#phrsListTab &gt; .trans-container &gt; ul&#39;</span><span class="token punctuation">)</span> <span class="token comment">// å¼€å§‹æŸ¥æ‰¾ç›¸å…³çš„id,classä»¥åŠæ ‡ç­¾</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// text()æ–¹æ³•å¯ä»¥å°†å…¶è½¬æ¢æˆå­—ç¬¦ä¸²</span>
  <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\s+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token comment">// ç”¨æ­£åˆ™æŠŠç©ºæ ¼å¤„ç†æ‰</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// æœ‰äº›æƒ…å†µæ˜¯é•¿å¥ç¿»è¯‘,ä¼šæ²¡æœ‰ä¸Šé¢çš„èŠ‚ç‚¹,æ‰€æ‰€ä»¥éœ€è¦åˆ¤æ–­ä¸€ä¸‹</span>
  result <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>
    <span class="token string">&#39;#ydTrans &gt; #fanyiToggle &gt; .trans-container &gt; p:nth-child(2)&#39;</span>
  <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// å–å¾—é•¿å¥ç¿»è¯‘çš„èŠ‚ç‚¹</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">green</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æœ¬åœ°è¿è¡Œ" tabindex="-1"><a class="header-anchor" href="#æœ¬åœ°è¿è¡Œ" aria-hidden="true">#</a> æœ¬åœ°è¿è¡Œ</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm link
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ‰§è¡Œå®Œå‘½ä»¤åå°±å¯ä»¥ ç”¨ yd åŠ å•è¯è¿›è¡Œè¾“å…¥äº† ğŸ˜</p><p><img src="`+l+`" alt="result.gif"></p><p>æˆ‘çš„ bin å­—æ®µ</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code>  <span class="token property">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;yd&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æºç å¥‰ä¸Š: index.js</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token hashbang comment">#!/usr/bin/env node</span>

<span class="token keyword">const</span> chalk <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;chalk&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ora <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;ora&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;request&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> isChinese <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;is-chinese&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> urlencode <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;urlencode&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> noCase <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;no-case&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> cheerio <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;cheerio&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> spinner <span class="token operator">=</span> <span class="token function">ora</span><span class="token punctuation">(</span><span class="token string">&#39;Loading...&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> word <span class="token operator">=</span> process<span class="token punctuation">.</span>argv<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span> <span class="token comment">// è·å–å‘½ä»¤è¡Œè¾“å…¥çš„å‚æ•°</span>

word <span class="token operator">=</span> noCase<span class="token punctuation">.</span><span class="token function">noCase</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>word<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  spinner<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">red</span><span class="token punctuation">(</span><span class="token string">&#39;Please enter text&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  process<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Stop the process</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span>

<span class="token keyword">const</span> isCh <span class="token operator">=</span> <span class="token function">isChinese</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">url</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> isCh <span class="token operator">?</span> <span class="token string">&#39;https://dict.youdao.com/w/eng/&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;https://dict.youdao.com/w/&#39;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">urlencode</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

spinner<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">request</span><span class="token punctuation">(</span>option<span class="token punctuation">.</span>url<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> response<span class="token punctuation">,</span> body</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    spinner<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">red</span><span class="token punctuation">(</span><span class="token string">&#39;ERROR&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    spinner<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> $ <span class="token operator">=</span> cheerio<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;#phrsListTab &gt; .trans-container &gt; ul&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\s+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// console.log(</span>
      <span class="token comment">//   $(&#39;#ydTrans &gt; #fanyiToggle &gt; .trans-container &gt; p:nth-child(2)&#39;).text()</span>
      <span class="token comment">// )</span>
      result <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>
        <span class="token string">&#39;#ydTrans &gt; #fanyiToggle &gt; .trans-container &gt; p:nth-child(2)&#39;</span>
      <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">green</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,40);function v(m,b){const a=p("ExternalLinkIcon");return o(),c("div",null,[n("p",null,[n("a",r,[s("é¡¹ç›®åœ°å€"),t(a)]),s(" é¡¹ç›®æºç åœ¨æœ€åé¢")]),n("p",null,[s("å‚è€ƒæ–‡ç«  "),n("a",d,[s("ä» 1 åˆ°å®Œç¾ï¼Œç”¨ node å†™ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·"),t(a)])]),k])}const h=e(u,[["render",v],["__file","minglingxinggongju.html.vue"]]);export{h as default};
